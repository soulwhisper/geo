{
  "log": {
    "disabled": true,
    "level": "debug",
    "timestamp": true
  },
  "experimental": {
    "clash_api": {
      "external_controller": "0.0.0.0:9090",
      "external_ui": "/var/lib/singbox/ui",
      "secret": "singbox",
      "default_mode": "global"
    },
    "cache_file": {
      "enabled": true,
      "path": "/var/lib/singbox/cache.db",
      "store_fakeip": true
    }
  },
  "dns": {
    "servers": [
      {
        "tag": "localDNS",
        "address": "udp://127.0.0.1:5310",
        "detour": "direct"
      },
      {
        "tag": "nodeDNS",
        "address": "udp://127.0.0.1:5311",
        "detour": "direct"
      },
      {
        "tag": "fakeipDNS",
        "address": "fakeip"
      }
    ],
    "rules": [
      {
        "inbound": "in-dns",
        "rewrite_ttl": 3,
        "server": "fakeipDNS"
      },
      {
        "outbound": "direct",
        "server": "localDns"
      },
      {
        "outbound": "any",
        "server": "nodedns"
      }
    ],
    "fakeip": {
      "enabled": true,
      "inet4_range": "28.0.0.0/8",
      "inet6_range": "fc00::/18"
    },
    "independent_cache": true,
    "cache_capacity": 10240,
    "disable_expire": false,
    "final": "localDns"
  },
  "inbounds": [
    {
      "type": "tproxy",
      "tag": "tp",
      "listen": "::",
      "listen_port": 7890,
      "tcp_fast_open": true,
      "sniff": false,
      "sniff_override_destination": false,
      "sniff_timeout": "300ms",
      "udp_disable_domain_unmapping": false,
      "udp_timeout": "5m"
    },
    {
      "type": "direct",
      "tag": "in-dns",
      "tcp_fast_open": true,
      "sniff": false,
      "listen": "::",
      "listen_port": 7891
    },
    {
      "type": "redirect",
      "tag": "re",
      "listen": "::",
      "listen_port": 7892,
      "tcp_fast_open": true,
      "sniff": false,
      "sniff_override_destination": false,
      "sniff_timeout": "300ms",
      "udp_disable_domain_unmapping": false,
      "udp_timeout": "5m"
    },
    {
      "type": "socks",
      "listen": "0.0.0.0",
      "listen_port": 1080,
      "tcp_multi_path": false,
      "tcp_fast_open": true,
      "udp_fragment": false,
      "sniff": false,
      "users": []
    },
    {
      "type": "shadowsocks",
      "tag": "ss-in",
      "tcp_fast_open": true,
      "listen": "0.0.0.0",
      "listen_port": 11000,
      "method": "aes-128-gcm",
      "password": "FakeIPBest4Ever",
      "multiplex": {
        "enabled": true,
        "padding": false
      }
    }
  ],
  "providers": [
    {
      "type": "remote",
      "path": "/var/lib/singbox/providers/sub.txt",
      "tag": "ğŸ›« link",
      "url": "subscription-url",
      "update_interval": "24000h",
      "download_detour": "direct"
    }
  ],
  "outbounds": [
    {
      "type": "selector",
      "tag": "â™»ï¸ Manual",
      "use_all_providers": true,
      "exclude": "(?i)Premium|GB|Traffic|Reset|Expire"
    },
    {
      "type": "selector",
      "tag": "ğŸš€ Select",
      "outbounds": [
        "ğŸ”„ Auto",
        "â™»ï¸ Manual",
        "ğŸ‡¯ğŸ‡µ Japan",
        "âœ¨Taiwan",
        "ğŸ‡¸ğŸ‡¬ Singapore",
        "ğŸ‡­ğŸ‡° HongKong",
        "ğŸ‡ºğŸ‡² USA",
        "ğŸ”° Other"
      ],
      "exclude": "Premium",
      "default": "â™»ï¸ Manual"
    },
    {
      "tag": "ğŸ¬ MediaVideo",
      "type": "selector",
      "outbounds": [
        "ğŸš€ Select",
        "â™»ï¸ Manual",
        "âœ¨Taiwan",
        "ğŸ‡¯ğŸ‡µ Japan",
        "ğŸ‡¸ğŸ‡¬ Singapore",
        "ğŸ‡­ğŸ‡° HongKong",
        "ğŸ‡ºğŸ‡² USA",
        "ğŸ”° Other"
      ],
      "exclude": "Premium",
      "default": "ğŸš€ Select"
    },
    {
      "tag": "ğŸ¤– OpenAI",
      "type": "selector",
      "outbounds": [
        "ğŸš€ Select",
        "â™»ï¸ Manual",
        "âœ¨Taiwan",
        "ğŸ‡¯ğŸ‡µ Japan",
        "ğŸ‡¸ğŸ‡¬ Singapore",
        "ğŸ‡­ğŸ‡° HongKong",
        "ğŸ‡ºğŸ‡² USA",
        "ğŸ”° Other"
      ],
      "exclude": "Premium",
      "default": "ğŸ‡ºğŸ‡² USA"
    },
    {
      "type": "selector",
      "tag": "ğŸ“² Telegram",
      "outbounds": [
        "ğŸš€ Select",
        "â™»ï¸ Manual",
        "âœ¨Taiwan",
        "ğŸ‡¯ğŸ‡µ Japan",
        "ğŸ‡¸ğŸ‡¬ Singapore",
        "ğŸ‡­ğŸ‡° HongKong",
        "ğŸ‡ºğŸ‡² USA",
        "ğŸ”° Other"
      ],
      "exclude": "Premium"
    },
    {
      "type": "selector",
      "tag": "ğŸ Apple",
      "outbounds": [
        "direct",
        "ğŸš€ Select",
        "â™»ï¸ Manual",
        "ğŸ‡¯ğŸ‡µ Japan",
        "âœ¨Taiwan",
        "ğŸ‡¸ğŸ‡¬ Singapore",
        "ğŸ‡­ğŸ‡° HongKong",
        "ğŸ‡ºğŸ‡² USA",
        "ğŸ”° Other"
      ],
      "exclude": "Premium",
      "default": "direct"
    },
    {
      "tag": "ğŸ§© Microsoft",
      "type": "selector",
      "outbounds": [
        "direct",
        "ğŸš€ Select",
        "â™»ï¸ Manual",
        "âœ¨Taiwan",
        "ğŸ‡¯ğŸ‡µ Japan",
        "ğŸ‡¸ğŸ‡¬ Singapore",
        "ğŸ‡­ğŸ‡° HongKong",
        "ğŸ‡ºğŸ‡² USA",
        "ğŸ”° Other"
      ],
      "exclude": "Premium",
      "default": "ğŸš€ Select"
    },
    {
      "tag": "ğŸŒŒ Google",
      "type": "selector",
      "outbounds": [
        "ğŸš€ Select",
        "â™»ï¸ Manual",
        "âœ¨Taiwan",
        "ğŸ‡¯ğŸ‡µ Japan",
        "ğŸ‡¸ğŸ‡¬ Singapore",
        "ğŸ‡­ğŸ‡° HongKong",
        "ğŸ‡ºğŸ‡² USA",
        "ğŸ”° Other"
      ],
      "exclude": "Premium",
      "default": "ğŸš€ Select"
    },
    {
      "tag": "ğŸ¦ Twitter",
      "type": "selector",
      "outbounds": [
        "ğŸš€ Select",
        "â™»ï¸ Manual",
        "âœ¨Taiwan",
        "ğŸ‡¯ğŸ‡µ Japan",
        "ğŸ‡¸ğŸ‡¬ Singapore",
        "ğŸ‡­ğŸ‡° HongKong",
        "ğŸ‡ºğŸ‡² USA",
        "ğŸ”° Other"
      ],
      "exclude": "Premium",
      "default": "ğŸš€ Select"
    },
    {
      "tag": "ğŸ‘¤ Facebook",
      "type": "selector",
      "outbounds": [
        "ğŸš€ Select",
        "â™»ï¸ Manual",
        "âœ¨Taiwan",
        "ğŸ‡¯ğŸ‡µ Japan",
        "ğŸ‡¸ğŸ‡¬ Singapore",
        "ğŸ‡­ğŸ‡° HongKong",
        "ğŸ‡ºğŸ‡² USA",
        "ğŸ”° Other"
      ],
      "exclude": "Premium",
      "default": "ğŸš€ Select"
    },
    {
      "tag": "ğŸ›ï¸ Amazon",
      "type": "selector",
      "outbounds": [
        "ğŸš€ Select",
        "â™»ï¸ Manual",
        "âœ¨Taiwan",
        "ğŸ‡¯ğŸ‡µ Japan",
        "ğŸ‡¸ğŸ‡¬ Singapore",
        "ğŸ‡­ğŸ‡° HongKong",
        "ğŸ‡ºğŸ‡² USA",
        "ğŸ”° Other"
      ],
      "exclude": "Premium",
      "default": "ğŸš€ Select"
    },
    {
      "type": "selector",
      "tag": "ğŸŸ Leaked",
      "outbounds": ["ğŸš€ Select"],
      "exclude": "(?i)Premium|GB|Traffic|Reset|Expire"
    },
    {
      "tag": "ğŸ® Game",
      "type": "selector",
      "outbounds": [
        "direct",
        "ğŸš€ Select",
        "â™»ï¸ Manual",
        "ğŸ‡¯ğŸ‡µ Japan",
        "âœ¨Taiwan",
        "ğŸ‡¸ğŸ‡¬ Singapore",
        "ğŸ‡­ğŸ‡° HongKong",
        "ğŸ‡ºğŸ‡² USA",
        "ğŸ”° Other"
      ],
      "exclude": "Premium",
      "default": "direct"
    },
    {
      "type": "urltest",
      "tag": "ğŸ”„ Auto",
      "use_all_providers": true,
      "exclude": "(?i)Premium|GB|Traffic|Reset|Expire",
      "idle_timeout": "30001h",
      "interval": "30000h",
      "tolerance": 50
    },
    {
      "tag": "direct",
      "type": "direct",
      "tcp_fast_open": true,
      "udp_fragment": false,
      "tcp_multi_path": false
    },
    {
      "tag": "tolan",
      "type": "direct",
      "bind_interface": "br-lan"
    },
    {
      "type": "selector",
      "tag": "ğŸ‡¯ğŸ‡µ Japan",
      "use_all_providers": true,
      "include": "(?i)æ—¥æœ¬|ä¸œäº¬|å¤§é˜ª|[^-]æ—¥|JP|Japan",
      "exclude": "Premium"
    },
    {
      "type": "selector",
      "tag": "ğŸ‡¸ğŸ‡¬ Singapore",
      "use_all_providers": true,
      "include": "(?i)æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore",
      "exclude": "Premium"
    },
    {
      "type": "selector",
      "tag": "ğŸ‡­ğŸ‡° HongKong",
      "use_all_providers": true,
      "include": "(?i)é¦™æ¸¯|HK|hk|Hong Kong|HongKong|hongkong",
      "exclude": "Premium"
    },
    {
      "type": "selector",
      "tag": "âœ¨Taiwan",
      "use_all_providers": true,
      "include": "(?i)ğŸ‡¹ğŸ‡¼|TW|tw|å°æ¹¾|è‡ºç£|å°|Taiwan",
      "exclude": "Premium"
    },
    {
      "type": "selector",
      "tag": "ğŸ‡ºğŸ‡² USA",
      "use_all_providers": true,
      "include": "(?i)ç¾|è¾¾æ‹‰æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|US|United States",
      "exclude": "Premium"
    },
    {
      "type": "selector",
      "tag": "ğŸ”° Other",
      "use_all_providers": true,
      "include": "(?i)å¾·å›½|DE|brd|germany|è·å…°|NL|Netherlands|æ³•å›½|FR|France|French Republic|æ¾³å¤§åˆ©äºš|AU|Australia|è¿ªæ‹œ|UAE|Dubai|å°åº¦|IN|India|KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“|è‹±å›½|UnitedKingdom|UK|è‹±|ç‘å…¸|Sweden|SE|å·´è¥¿|Brazil|BR|éæ´²|Africa|AF",
      "exclude": "Premium"
    }
  ],
  "route": {
    "final": "â™»ï¸ Manual",
    "auto_detect_interface": true,
    "default_mark": 1,
    "rules": [
      {
        "inbound": "in-dns",
        "action": "hijack-dns"
      },
      {
        "ip_cidr": ["8.8.8.8", "8.8.4.4", "1.1.1.1", "1.0.0.1", "9.9.9.9"],
        "outbound": "ğŸš€ Select"
      },
      {
        "type": "logical",
        "mode": "and",
        "rules": [
          {
            "inbound": "ss-in"
          },
          {
            "ip_cidr": ["10.10.10.0/24"]
          }
        ],
        "outbound": "tolan"
      },
      {
        "network": "udp",
        "port": 443,
        "action": "reject",
        "method": "drop"
      },
      {
        "rule_set": "s-youtube",
        "outbound": "ğŸŒŒ Google"
      },
      {
        "rule_set": "s-openai",
        "outbound": "ğŸ¤– OpenAI"
      },
      {
        "type": "logical",
        "mode": "and",
        "rules": [
          {
            "clash_mode": "global"
          },
          {
            "clash_mode": "rule",
            "invert": true
          }
        ],
        "outbound": "ğŸŸ Leaked"
      },
      {
        "clash_mode": "direct",
        "action": "reject",
        "method": "drop"
      },
      {
        "rule_set": ["s-google", "s-github"],
        "outbound": "ğŸŒŒ Google"
      },
      {
        "rule_set": ["s-telegram", "i-telegram"],
        "outbound": "ğŸ“² Telegram"
      },
      {
        "rule_set": "s-apple",
        "outbound": "ğŸ Apple"
      },
      {
        "rule_set": "s-microsoft",
        "outbound": "ğŸ§© Microsoft"
      },
      {
        "rule_set": ["s-netflix", "i-netflix"],
        "outbound": "ğŸ¬ MediaVideo"
      },
      {
        "rule_set": ["s-tiktok", "s-twitter"],
        "outbound": "ğŸ¦ Twitter"
      },
      {
        "rule_set": ["s-facebook", "s-instagram"],
        "outbound": "ğŸ‘¤ Facebook"
      },
      {
        "rule_set": "s-amazon",
        "outbound": "ğŸ›ï¸ Amazon"
      },
      {
        "rule_set": ["s-hbo", "s-disney", "s-primevideo"],
        "outbound": "ğŸ¬ MediaVideo"
      },
      {
        "rule_set": "s-gamescn",
        "outbound": "direct"
      },
      {
        "rule_set": "s-games",
        "outbound": "ğŸ® Game"
      },
      {
        "rule_set": "i-cn",
        "outbound": "direct"
      },
      {
        "ip_is_private": true,
        "outbound": "direct"
      }
    ],
    "rule_set": [
      {
        "tag": "i-telegram",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geoip/telegram.srs"
      },
      {
        "tag": "i-netflix",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geoip/netflix.srs"
      },
      {
        "tag": "i-cn",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geoip/geoip-cn.srs"
      },
      {
        "tag": "s-openai",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geosite/geosite-openai.srs"
      },
      {
        "tag": "s-youtube",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geosite/geosite-youtube.srs"
      },
      {
        "tag": "s-google",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geosite/geosite-google.srs"
      },
      {
        "tag": "s-github",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geosite/geosite-github.srs"
      },
      {
        "tag": "s-telegram",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geosite/geosite-telegram.srs"
      },
      {
        "tag": "s-twitter",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geosite/geosite-twitter.srs"
      },
      {
        "tag": "s-facebook",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geosite/geosite-facebook.srs"
      },
      {
        "tag": "s-instagram",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geosite/geosite-instagram.srs"
      },
      {
        "tag": "s-amazon",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geosite/geosite-amazon.srs"
      },
      {
        "tag": "s-apple",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geosite/geosite-apple.srs"
      },
      {
        "tag": "s-microsoft",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geosite/geosite-microsoft.srs"
      },
      {
        "tag": "s-games",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geosite/geosite-category-games.srs"
      },
      {
        "tag": "s-gamescn",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geosite/geosite-category-games@cn.srs"
      },
      {
        "tag": "s-tiktok",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geosite/geosite-tiktok.srs"
      },
      {
        "tag": "s-netflix",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geosite/geosite-netflix.srs"
      },
      {
        "tag": "s-hbo",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geosite/geosite-hbo.srs"
      },
      {
        "tag": "s-disney",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geosite/geosite-disney.srs"
      },
      {
        "tag": "s-primevideo",
        "type": "local",
        "format": "binary",
        "path": "/var/lib/singbox/geosite/geosite-primevideo.srs"
      }
    ]
  }
}
